{"version":3,"file":"index.js","mappings":"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","sources":["webpack://resource-article/./node_modules/tripartite/active-element.js","webpack://resource-article/./node_modules/tripartite/calculate-relative-path.js","webpack://resource-article/./node_modules/tripartite/evaluate-in-context.js","webpack://resource-article/./node_modules/tripartite/execution-context.js","webpack://resource-article/./node_modules/tripartite/resolve-data-path.js","webpack://resource-article/./node_modules/tripartite/tripartite.js","webpack://resource-article/./views/test1.tri","webpack://resource-article/./views/test2.tri","webpack://resource-article/webpack/bootstrap","webpack://resource-article/webpack/runtime/define property getters","webpack://resource-article/webpack/runtime/global","webpack://resource-article/webpack/runtime/hasOwnProperty shorthand","webpack://resource-article/./views/load-browser-views.js","webpack://resource-article/./client-js/index.js"],"sourcesContent":["\nconst defaultTemplateName = 'defaultTemplate'\n\nclass ActiveElement {\n\tconstructor(conditionalExpression, dataExpression, handlingExpression, tripartite) {\n\t\tthis.conditionalExpression = conditionalExpression\n\t\tthis.dataExpression = dataExpression\n\t\tthis.handlingExpression = handlingExpression || defaultTemplateName\n\t\tthis.tripartite = tripartite\n\t}\n}\n\nmodule.exports = ActiveElement","var calculateRelativePath = function(parentPath, currentPath) {\n\tif(!parentPath) {\n\t\treturn currentPath\n\t}\n\tif(!currentPath) {\n\t\treturn currentPath\n\t}\n\t\n\tif(currentPath.indexOf('../') != 0 && currentPath.indexOf('./') != 0) {\n\t\treturn currentPath\n\t}\n\t\n\tvar pparts = parentPath.split('/')\n\tvar cparts = currentPath.split('/')\n\t\n\t// trim any starting blank sections\n\twhile(pparts.length && !pparts[0]) {\n\t\tpparts.shift()\n\t}\n\twhile(cparts.length && !cparts[0]) {\n\t\tcparts.shift()\n\t}\n\t\n\tif(currentPath.indexOf('../') == 0 ) {\n\t\twhile(cparts.length && cparts[0] == '..') {\n\t\t\tpparts.pop()\n\t\t\tcparts.shift()\n\t\t}\n\t\tpparts.pop()\n\t\t\n\t\twhile(cparts.length) {\n\t\t\tpparts.push(cparts.shift())\n\t\t}\n\t\treturn pparts.join('/')\n\t}\n\tif(currentPath.indexOf('./') == 0 ) {\n\t\tcparts.shift()\n\t\tpparts.pop()\n\t\twhile(cparts.length) {\n\t\t\tpparts.push(cparts.shift())\n\t\t}\n\t\treturn pparts.join('/')\n\t}\n\t\n\treturn currentPath\n}\n\nmodule.exports = calculateRelativePath","\nconst resolveDataPath = require('./resolve-data-path')\nfunction evaluateInContext(context, expression, dataFunctions, globalData) {\n\tif (!expression) {\n\t\treturn null\n\t}\n\tif (typeof expression === 'string') {\n\t\texpression = expression.trim()\n\t}\n\n\tif (expression === '$this' || expression === 'this') {\n\t\treturn context\n\t}\n\tif (typeof context === 'object' && expression in context) {\n\t\treturn context[expression]\n\t}\n\tif (expression === '\"\"' || expression === \"''\") {\n\t\treturn ''\n\t}\n\tlet resolved = resolveDataPath(context, expression)\n\tif (resolved === null || resolved === undefined) {\n\t\tresolved = resolveDataPath({\n\t\t\t'$globals': globalData\n\t\t}, expression)\n\t}\n\tif (resolved === null || resolved === undefined) {\n\t\tresolved = _evaluateInContext.call(context, context, expression, dataFunctions, globalData)\n\t}\n\treturn resolved\n}\n\nlet evalFunction = new Function('additionalContexts',\n\t`with ({\n\t\t'$globals': additionalContexts.globalData\n\t}) {\n\t\twith (additionalContexts.dataFunctions) {\n\t\t\twith (additionalContexts.context) {\n\t\t\t\ttry {\n\t\t\t\t\treturn eval(additionalContexts.expression);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}`\n)\n\nfunction _evaluateInContext(context, expression, dataFunctions, globalData) {\n\tdataFunctions = dataFunctions || {}\n\tglobalData = globalData || {}\n\n\n\tlet result = evalFunction.call(this, {\n\t\tglobalData: globalData\n\t\t, dataFunctions: dataFunctions\n\t\t, context: context\n\t\t, expression: expression\n\t})\n\treturn result\n}\n\nmodule.exports = evaluateInContext","\nlet ActiveElement = require('./active-element')\nvar calculateRelativePath = require('./calculate-relative-path')\nlet evaluateInContext = require('./evaluate-in-context')\n\nclass ExecutionContext {\n\t/**\n\t * \n\t * @param {Tripartite} tripartite \n\t * @param {function} template \n\t * @param {stream} [destination]\n\t */\n\tconstructor(tripartite, template, data = {}, destination = '', dataFunctions = {}) {\n\t\tthis.tripartite = tripartite\n\t\tthis.template = template\n\t\tthis.destination = destination\n\t\tthis.initialData = data\n\t\tthis.currentData = []\n\t\tthis.dataFunctions = dataFunctions\n\t\tthis.continueOnTripartiteError = true\n\t\t\n\t\t// Sometimes large pages have so many elements that we exceed\n\t\t// the maximum call depth. This happens when we have a lot of elements all being\n\t\t// rendered by the same templates. That is, there's no async callback when a template\n\t\t// is loaded, only instant callbacks.\n\t\t// The downside to doing very frequent async calls is that it takes a lot longer to\n\t\t// to get called from a setTimeout than it does to call directly. We want ot keep\n\t\t// the time between needing to do that reasonably long. Unfortunately, there's no\n\t\t// easy/fast way to detect the call stack depth, so we rely on this proxy.\n\t\tthis.callCount = 0\n\t\tthis.callDepthLimit = 1000\n\t}\n\n\t/**\n\t * \n\t * @param {function} [callback] called when done\n\t * @returns Returns the string of stream as the result of the operation\n\t */\n\trun(callback) {\n\t\tlet ourCallback\n\t\tif (callback) {\n\t\t\tourCallback = () => {\n\t\t\t\tcallback(null, this.destination)\n\t\t\t}\n\t\t}\n\n\t\tthis._run(this.template, this.initialData, ourCallback)\n\n\t\treturn this.destination\n\t}\n\n\t_resolveHandlingExpression(template, handlingExpression, data) {\n\t\tif (!handlingExpression) {\n\t\t\thandlingExpression = defaultTemplateName\n\t\t}\n\t\tif (handlingExpression.charAt(0) == '$') {\n\t\t\t// Indicates the handling espression is not a literal template name but is a string which should\n\t\t\t// be evaluated to determine the template name\n\t\t\thandlingExpression = evaluateInContext(data, handlingExpression.substring(1), this.dataFunctions, this.initialData)\n\t\t}\n\t\t// resolve relative template paths\n\t\tif (handlingExpression.indexOf('./') == 0 || handlingExpression.indexOf('../') == 0) {\n\t\t\thandlingExpression = calculateRelativePath(template.templateMeta.name, handlingExpression)\n\t\t}\n\n\t\treturn handlingExpression\n\t}\n\n\t_run(template, data, callback) {\n\t\tlet parts = [...template.parts].reverse()\n\t\tconst processParts = () => {\n\t\t\t\n\t\t\t// check to see how far down in the call stack we are. If too far down,\n\t\t\t// come back in the next tick.\n\t\t\tthis.callCount++\n\t\t\tif(this.callCount++ > this.callDepthLimit) {\n\t\t\t\tsetTimeout(()=> {\n\t\t\t\t\tthis.callCount = 0\n\t\t\t\t\tprocessParts()\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (parts.length > 0) {\n\t\t\t\tlet part = parts.pop()\n\t\t\t\tif (typeof part === 'string') {\n\t\t\t\t\tthis.output(part)\n\t\t\t\t\tprocessParts()\n\t\t\t\t}\n\t\t\t\telse if (part instanceof ActiveElement) {\n\t\t\t\t\tlet conditional = part.conditionalExpression || part.dataExpression\n\t\t\t\t\tlet conditionalResult = false\n\t\t\t\t\tlet resultData\n\t\t\t\t\tif (conditional == null || conditional == undefined || conditional === '') {\n\t\t\t\t\t\t// Because if they didn't specify a condition or data, they probably \n\t\t\t\t\t\t// just want the template to be run as is\n\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(part.conditionalExpression) {\n\t\t\t\t\t\t\tlet result = evaluateInContext(data, part.conditionalExpression, this.dataFunctions, this.initialData)\n\t\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// This means we're evaluating the data expression to see if we should run the template\n\t\t\t\t\t\t\tresultData = evaluateInContext(data, part.dataExpression, this.dataFunctions, this.initialData)\n\t\t\t\t\t\t\tif(resultData === null || resultData === undefined) {\n\t\t\t\t\t\t\t\tconditionalResult = false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (typeof resultData === 'number') {\n\t\t\t\t\t\t\t\t// if the result is a number, any number, we want to output it\n\t\t\t\t\t\t\t\t// unless the number is from the conditional expression, in which\n\t\t\t\t\t\t\t\t// case we want to evaluate it as truthy\n\t\t\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(Array.isArray(resultData) && resultData.length > 0) {\n\t\t\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(resultData) {\n\t\t\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (conditionalResult) {\n\t\t\t\t\t\tif (part.dataExpression && resultData === undefined) {\n\t\t\t\t\t\t\tresultData = evaluateInContext(data, part.dataExpression, this.dataFunctions, this.initialData)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(resultData === null || resultData === undefined) {\n\t\t\t\t\t\t\tresultData = data\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet handlingExpression = this._resolveHandlingExpression(template, part.handlingExpression, data)\n\t\t\t\t\t\tlet handlingTemplate\n\t\t\t\t\t\tlet children = (Array.isArray(resultData) ? [...resultData] : [resultData]).reverse()\n\t\t\t\t\t\tconst applyTemplate = () => {\n\t\t\t\t\t\t\tif (children.length > 0) {\n\t\t\t\t\t\t\t\tlet child = children.pop()\n\t\t\t\t\t\t\t\tthis._run(handlingTemplate, child, () => {\n\t\t\t\t\t\t\t\t\tapplyTemplate()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(handlingExpression in this.tripartite.templates) {\n\t\t\t\t\t\t\thandlingTemplate = this.tripartite.getTemplate(handlingExpression)\n\t\t\t\t\t\t\tif (handlingTemplate) {\n\t\t\t\t\t\t\t\tapplyTemplate()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t// the template has been loaded before but is empty\n\t\t\t\t\t\t\t\tif (this.continueOnTripartiteError) {\n\t\t\t\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.tripartite.loadTemplate(handlingExpression, (template) => {\n\t\t\t\t\t\t\t\tif (!template) {\n\t\t\t\t\t\t\t\t\tlet msg = 'Could not load template: ' + handlingExpression\n\t\t\t\t\t\t\t\t\tconsole.error(msg)\n\t\t\t\t\t\t\t\t\tif (this.continueOnTripartiteError) {\n\t\t\t\t\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tlet err = new Error(msg)\n\t\t\t\t\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\t\t\t\t\tcallback(err)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tthrow err\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\thandlingTemplate = template\n\t\t\t\t\t\t\t\t\tapplyTemplate()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof part === 'function') {\n\t\t\t\t\tif(part.write) {\n\t\t\t\t\t\tpart.write(data, this.destination, () => {\n\t\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t\t})\n\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.output(part(data))\n\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprocessParts()\n\t}\n\n\t/**\n\t * \n\t * @param {string} value \n\t */\n\toutput(value) {\n\t\tif(value === null || value === undefined) {\n\t\t\treturn\n\t\t}\n\t\tif (typeof this.destination === 'string') {\n\t\t\tthis.destination += value\n\t\t}\n\t\telse if (this.destination.write) {\n\t\t\tthis.destination.write(value)\n\t\t}\n\t}\n}\n\n\nmodule.exports = ExecutionContext","/*\nfunction resolveDataPath(data, path) {\n\tif(data === null || data === undefined) {\n\t\treturn data\n\t}\n\tlet parts\n\tif(typeof path === 'string') {\n\t\tparts = path.trim().split('.')\n\t}\n\telse if(Array.isArray(path)) {\n\t\tparts = path\n\t}\n\t\n\tlet name = parts.shift()\n\tif(name.indexOf(' ') > -1) {\n\t\t// there's a space, which means it's really unlikely it's a property\n\t\treturn null\n\t}\n\tlet child\n\tif(name === 'this' || name === '$this') {\n\t\tchild = data\n\t}\n\telse if(typeof data === 'object') {\n\t\tif(name in data) {\n\t\t\tchild = data[name]\n\t\t}\n\t}\n\tif(parts.length > 0) {\n\t\treturn resolveDataPath(child, parts)\n\t}\n\telse {\n\t\treturn child\n\t}\n} */\nfunction resolveDataPath(data, path) {\n\tif (data === null || data === undefined) {\n\t\treturn data\n\t}\n\tlet parts\n\tif (typeof path === 'string') {\n\t\tparts = path.trim().split('.')\n\t}\n\telse if (Array.isArray(path)) {\n\t\tparts = path\n\t}\n\n\twhile (parts.length > 0) {\n\t\tlet name = parts.shift()\n\t\tif (name.indexOf(' ') > -1) {\n\t\t\t// there's a space, which means it's really unlikely it's a property\n\t\t\treturn null\n\t\t}\n\t\tlet child\n\t\tif (name === 'this' || name === '$this') {\n\t\t\tchild = data\n\t\t}\n\t\telse if (typeof data === 'object') {\n\t\t\tif (name in data) {\n\t\t\t\tchild = data[name]\n\t\t\t}\n\t\t}\n\t\tif (parts.length == 0) {\n\t\t\treturn child\n\t\t}\n\t\tdata = child\n\t}\n}\n\nmodule.exports = resolveDataPath","\n\n\nif (typeof String.prototype.trim !== 'function') {\n\tString.prototype.trim = function () {\n\t\treturn this.replace(/^\\s+|\\s+$/g, '');\n\t}\n}\n\n\nfunction isStream(stream) {\n\treturn stream !== null\n\t\t&& typeof stream === 'object'\n\t\t&& typeof stream.pipe === 'function';\n}\n\n\nfunction isTemplate(obj) {\n\tif (!obj) {\n\t\treturn false\n\t}\n\tif (typeof obj !== 'function') {\n\t\treturn false\n\t}\n\tif (!obj.write) {\n\t\treturn false\n\t}\n\tif (!obj.parts) {\n\t\treturn false\n\t}\n\tif (!obj.templateMeta) {\n\t\treturn false\n\t}\n\n\treturn true\n}\n\nlet ExecutionContext = require('./execution-context')\nlet ActiveElement = require('./active-element')\n\n\nclass Tripartite {\n\tconstructor(options = {}) {\n\t\tthis.templates = {\n\t\t\tdefaultTemplate: this._makeTemplate(function (thedata) {\n\t\t\t\treturn '' + thedata;\n\t\t\t})\n\t\t}\n\t\tlet { constants = {\n\t\t\ttemplateBoundary: '__',\n\t\t\ttemplateNameBoundary: '##'\n\t\t} } = options\n\t\tthis.constants = constants\n\n\t\t// This object (if set) will receive the template functions parsed from a script\n\t\t// I want to be able to call my templates as global functions, so I've set it\n\t\t// to be the window object\n\t\tthis.secondaryTemplateFunctionObject = options.secondaryTemplateFunctionObject\n\n\t\tthis.loaders = options.loaders || []\n\n\t\tthis.dataFunctions = options.dataFunction || {}\n\t}\n\n\t_makeTemplate(transformationFunction) {\n\t\tif (isTemplate(transformationFunction)) {\n\t\t\treturn transformationFunction\n\t\t}\n\t\tlet tri = this\n\t\tlet f = function (thedata) {\n\t\t\tlet stream = null\n\t\t\tlet options = null\n\t\t\tlet callback = null\n\t\t\tfor (let i = 1; i < arguments.length; i++) {\n\t\t\t\tlet arg = arguments[i]\n\t\t\t\tif (isStream(arg)) {\n\t\t\t\t\tstream = arg\n\t\t\t\t}\n\t\t\t\telse if(typeof arg === 'function') {\n\t\t\t\t\tcallback = arg\n\t\t\t\t}\n\t\t\t\telse if(typeof arg === 'object') {\n\t\t\t\t\toptions = arg\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn f.write(thedata, stream, callback, options)\n\t\t}\n\t\tf.write = function (thedata, stream, callback, options = {}) {\n\t\t\tif(transformationFunction && transformationFunction.write) {\n\t\t\t\t// if it's not a template, but has a write method, invoke the right method directly\n\t\t\t\treturn transformationFunction.write.apply(transformationFunction, arguments)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet dest = stream || ''\n\n\t\t\t\tlet context = new ExecutionContext(tri, f, thedata, dest, tri.dataFunctions)\n\t\t\t\tif (options && 'continueOnTripartiteError' in options) {\n\t\t\t\t\tcontext.continueOnTripartiteError = options.continueOnTripartiteError\n\t\t\t\t}\n\n\t\t\t\treturn context.run(callback)\n\t\t\t}\n\t\t}\n\t\tf.parts = []\n\t\tif (transformationFunction && typeof transformationFunction === 'function') {\n\t\t\tf.parts.push(transformationFunction)\n\t\t}\n\t\tf.templateMeta = {}\n\t\treturn f\n\t}\n\n\taddTemplate(name, template) {\n\t\tif (typeof template === 'string') {\n\t\t\ttemplate = this.parseTemplate(template);\n\t\t}\n\t\telse if (typeof template === 'function') {\n\t\t\ttemplate = this._makeTemplate(template)\n\t\t}\n\n\t\tthis.templates[name] = template;\n\t\ttemplate.templateMeta = template.templateMeta || {}\n\t\ttemplate.templateMeta.name = name\n\t\treturn template;\n\t}\n\n\tcreateBlank() {\n\t\treturn new Tripartite()\n\t}\n\n\tgetTemplate(name) {\n\t\treturn this.templates[name]\n\t}\n\n\tloadTemplate(name, callback) {\n\t\tif (name in this.templates) {\n\t\t\tcallback(this.templates[name])\n\t\t}\n\t\telse {\n\t\t\tlet tri = this\n\t\t\tlet count = this.loaders.length\n\t\t\tlet done = false\n\n\t\t\tif (count == 0) {\n\t\t\t\ttri.templates[name] = null\n\t\t\t\tcallback(tri.getTemplate(name))\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.loaders.forEach(loader => {\n\t\t\t\t\tif (done) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tloader(name, template => {\n\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcount--\n\t\t\t\t\t\tif (template) {\n\t\t\t\t\t\t\tdone = true\n\t\t\t\t\t\t\ttri.addTemplate(name, template)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (count == 0) {\n\t\t\t\t\t\t\tdone = true\n\t\t\t\t\t\t\ttri.templates[name] = null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\tcallback(tri.getTemplate(name))\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\tparseTemplateScript(tx) {\n\t\tvar tks = this.tokenizeTemplateScript(tx);\n\t\t/* current template name */\n\t\tvar ctn = null;\n\t\tfor (var i = 0; i < tks.length; i++) {\n\t\t\tvar token = tks[i];\n\t\t\tif (token.active) {\n\t\t\t\tctn = token.content;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (ctn) {\n\t\t\t\t\tvar template = this.addTemplate(ctn, this.stripTemplateWhitespace(token.content));\n\t\t\t\t\tif (this.secondaryTemplateFunctionObject) {\n\t\t\t\t\t\tthis.secondaryTemplateFunctionObject[ctn] = template;\n\t\t\t\t\t}\n\t\t\t\t\tctn = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tstripTemplateWhitespace(txt) {\n\t\tvar i = txt.indexOf('\\n');\n\t\tif (i > -1 && txt.substring(0, i).trim() == '') {\n\t\t\ttxt = txt.substring(i + 1);\n\t\t}\n\t\ti = txt.lastIndexOf('\\n');\n\t\tif (i > -1 && txt.substring(i).trim() == '') {\n\t\t\ttxt = txt.substring(0, i);\n\t\t}\n\t\treturn txt;\n\t}\n\n\t/* simple template */\n\t_createActiveElement(/* conditional expression */ cd, data, /* handling expression */ hd, tripartite, templateMeta) {\n\t\tlet el = new ActiveElement(cd, data, hd, tripartite);\n\t\tel.templateMeta = templateMeta\n\t\treturn el\n\t}\n\tpt(tx) {\n\t\treturn this.parseTemplate(tx)\n\t}\n\t/* parse template */\n\tparseTemplate(tx) {\n\t\tvar tks = this.tokenizeTemplate(tx);\n\t\tlet t = this._makeTemplate()\n\t\tvar templateMeta = t.templateMeta\n\n\t\tfor (let tk of tks) {\n\t\t\tif (tk.active) {\n\t\t\t\tt.parts.push(this.tokenizeActivePart(tk.content, templateMeta));\n\t\t\t}\n\t\t\telse if (tk.content) {\n\t\t\t\tt.parts.push(tk.content);\n\t\t\t}\n\t\t}\n\n\t\treturn t\n\t}\n\n\ttokenizeActivePart(tx, templateMeta) {\n\t\tvar con = null;\n\t\tvar dat = null;\n\t\tvar han = null;\n\n\t\t/* condition index */\n\t\tvar ci = tx.indexOf('??');\n\t\tif (ci > -1) {\n\t\t\tcon = tx.substring(0, ci);\n\t\t\tci += 2;\n\t\t}\n\t\telse {\n\t\t\tci = 0;\n\t\t}\n\n\t\t/* handler index */\n\t\tvar hi = tx.indexOf('::');\n\t\tif (hi > -1) {\n\t\t\tdat = tx.substring(ci, hi);\n\t\t\than = tx.substring(hi + 2);\n\t\t}\n\t\telse {\n\t\t\tdat = tx.substring(ci);\n\t\t}\n\t\treturn this._createActiveElement(con, dat, han, this, templateMeta);\n\t}\n\n\ttokenizeTemplate(tx) {\n\t\treturn this.tokenizeActiveAndInactiveBlocks(tx, this.constants.templateBoundary);\n\t}\n\n\n\t/** tokenize template script */\n\ttokenizeTemplateScript(tx) {\n\t\treturn this.tokenizeActiveAndInactiveBlocks(tx, this.constants.templateNameBoundary);\n\t}\n\n\t/* tokenize active and inactive blocks */\n\ttokenizeActiveAndInactiveBlocks(text, /*Active Region Boundary */ boundary) {\n\t\t/* whole length */\n\t\tlet length = text.length\n\n\t\t/* current position */\n\t\tlet position = 0\n\n\t\t/* are we in an active region */\n\t\tlet act = false\n\n\t\tlet tokens = []\n\n\t\twhile (position < length) {\n\t\t\tlet i = text.indexOf(boundary, position);\n\t\t\tif (i == -1) {\n\t\t\t\ti = length;\n\t\t\t}\n\t\t\tvar tk = { active: act, content: text.substring(position, i) };\n\t\t\ttokens.push(tk);\n\t\t\tposition = i + boundary.length;\n\t\t\tact = !act;\n\t\t}\n\n\t\treturn tokens;\n\t}\n\n}\nvar tripartiteInstance = new Tripartite()\n\nif (typeof window != 'undefined') {\n\ttripartiteInstance.secondaryTemplateFunctionObject = window\n}\n\n\nif (typeof module !== 'undefined') {\n\tmodule.exports = tripartiteInstance\n}\nelse {\n\twindow.Tripartite = tripartiteInstance\n}\n\nif (typeof global != 'undefined') {\n\tif (!global.Tripartite) {\n\t\tglobal.Tripartite = Tripartite\n\t}\n\tif (!global.tripartite) {\n\t\tglobal.tripartite = tripartiteInstance\n\t}\n}\n\n","var tri = require(\"tripartite\"); var t = \"This is test1.tri\\n\"; \nmodule.exports = tri.addTemplate(\"test1\", t); ","var tri = require(\"tripartite\"); var t = \"This is test2.tri\\n__::.\\/test1__\\n\"; \nmodule.exports = tri.addTemplate(\"test2\", t); ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","\nimport t1 from './test1.tri'\nimport t2 from './test2.tri';\n\nexport let test1 = t1\nexport let test2 = t2","import tri from 'tripartite';\nimport {test1, test2} from \"../views/load-browser-views.js\"\n\nexport default function go() {\n\tconsole.log(test2())\n\n\t// and use like:\n\tlet d = document.createElement('div')\n\td.innerHTML = tri.getTemplate('test1')({\n\t\tkey1: 'value'\n\t\t, key2: 'value'\n\t})\n\tdocument.body.append(d)\n}\n\nexport function stop() {\n\tconsole.log('stop')\n}"],"names":["module","exports","constructor","conditionalExpression","dataExpression","handlingExpression","tripartite","this","parentPath","currentPath","indexOf","pparts","split","cparts","length","shift","pop","push","join","resolveDataPath","evalFunction","Function","_evaluateInContext","context","expression","dataFunctions","globalData","call","trim","resolved","ActiveElement","calculateRelativePath","evaluateInContext","template","data","destination","initialData","currentData","continueOnTripartiteError","callCount","callDepthLimit","run","callback","ourCallback","_run","_resolveHandlingExpression","defaultTemplateName","charAt","substring","templateMeta","name","parts","reverse","processParts","setTimeout","part","output","resultData","conditional","conditionalResult","undefined","Array","isArray","handlingTemplate","children","applyTemplate","child","templates","getTemplate","loadTemplate","msg","console","error","err","Error","write","value","path","isStream","stream","pipe","String","prototype","replace","ExecutionContext","Tripartite","options","defaultTemplate","_makeTemplate","thedata","constants","templateBoundary","templateNameBoundary","secondaryTemplateFunctionObject","loaders","dataFunction","transformationFunction","obj","tri","f","i","arguments","arg","apply","addTemplate","parseTemplate","createBlank","count","done","forEach","loader","parseTemplateScript","tx","tks","tokenizeTemplateScript","ctn","token","active","content","stripTemplateWhitespace","txt","lastIndexOf","_createActiveElement","cd","hd","el","pt","tokenizeTemplate","t","tk","tokenizeActivePart","con","dat","han","ci","hi","tokenizeActiveAndInactiveBlocks","text","boundary","position","act","tokens","tripartiteInstance","window","g","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","globalThis","e","prop","hasOwnProperty","go","log","document","createElement","innerHTML","key1","key2","body","append","stop"],"sourceRoot":""}